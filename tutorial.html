<!DOCTYPE html><html><meta charset='UTF-8'>
<title>PANDORÆ-FLUX</title>
<link rel='stylesheet' type='text/css' href='css/pandorae.css'>

<style>
body{
  overflow: scroll;
  text-align: justify;
  color: black;
  opacity: 0;
  background-color:white;
}

::-webkit-scrollbar {
    display: none;
}
#tutorialSections {
  padding-left: 40px;
  padding-right: 40px;
}

.step {
  font-family: 'Noto Sans', 'Noto Sans SC', sans-serif;
  font-size: 16px;
  line-height: 26px;
}

.centerStep{
  text-align:center;
}

a {
text-decoration: underline;
cursor:pointer;
}

sections .title {
font-family: 'Noto Sans', 'Noto Sans SC', sans-serif;
  font-size: 18px;
  font-weight: 900;
  margin-bottom: 2px;
  color: #262626;
  line-height: 1.2em;
}

.commands{
  font-size:16px;
  font-family: monospace;
}


#dialogDiv{
        position:fixed;
        z-index:20;
        padding: 5px;
        right:0px;
        top:0px;
        width:60px;
      }
      
.arrowDown{
text-align: center;
text-decoration: none;
cursor:pointer;
}

@keyframes
  invert {
    from {background-color: white; color:black}
    to {background-color: black; color:white}
  }

#progressBar{
  position:fixed;
        z-index:19;
  top: 0px;
  left:calc(100%-4px);
  width:4px;
  height: 0px;
  background-color: #141414;
}

</style>
<body>

<div id='tutorialSections'>
        <section id='mainTitle' class='step centerStep'></section>
        <section id='slide2' class='step centerStep'></section>
        <section id='slide2bis' class='step centerStep'></section>
        <section id='slide3' class='step centerStep'></section>
        <section id='slide4' class='step centerStep'></section>
        <section id='Chapter1' class='step'></section>
        <section id='Cascade' class='step'></section>
        <section id='flux' class='step'></section>
        <section id='flux2' class='step'></section>
        <section id='databases' class='step'></section>
        <section id='Enriching' class='step'></section>
        <section id='enrichment' class='step'></section>
        <section id='Zotero1' class='step'></section>
        <section id='Zotero2' class='step'></section>
        <section id='Chapter2' class='step'></section>
        <section id='chronotype' class='step'></section>
        <section id='geotype' class='step'></section>
        <section id='FinalChap' class='step centerStep'></section>
        <section id='final2' class='step centerStep'></section>  
        <section id='final3' class='step centerStep'></section>
        <section id='final4' class='step centerStep'></section>
        <section id='final5' class='step centerStep'></section>
        <section id='final6' class='step centerStep'></section>
        <section id='final7' class='step centerStep'></section>
        <section id='final8' class='step centerStep'></section>
        <section id='last' class='step centerStep'></section>         
</div>
<div id='progressBar'></div>

<div id='dialogDiv'>
  <i class='material-icons  dialog-buttons' id='backarrow' style='display:none;' onclick='smoothScrollTo(previous,true);'>arrow_back</i>
  <i class='material-icons dialog-buttons' onclick='refreshWindow();'>refresh</i>
  <i class='material-icons dialog-buttons' onclick='closeAndDisplay();'>close</i>
  <div id='lang' style='margin-top:0px;margin-left:30px;width:30px;display: block;'>
    <div class='locale'>FR</div>
    <div class='locale'>EN</div>
    <div class='locale'>中文</div>
  </div>
</div>


<link rel='icon' type='image/png' href='img/AE-favicon.png'/>
<script>const fs = require('fs');</script>
<script src='js/locales.js'></script>
<script src='js/window-management.js'></script>
<script src='js/tutorial/cascade.js'></script>
<script src='js/tutorial/textcontent.js'></script>
<script src='js/tutorial/scroller.js'></script>
<script src='js/tutorial/tutorial.js'></script>


<script>
  const closeAndDisplay = () => { 
    ipcRenderer.send('window-ids','tutorial',remote.getCurrentWindow().id,false);
    ipcRenderer.send('chaeros-notification','return to tutorial',sectionList[activeIndex].id);
    closeWindow();
  };
</script>

<script>

// Last slide

const appPath = remote.app.getAppPath();
fs.readFile(appPath+'\/package.json','utf8', (err, data) => {
  if (err) throw err;
   let package = JSON.parse(data);
     let version = package.version;
     document.getElementById('last').innerHTML =  '<div style="margin:auto;font-size:10px;line-height: 15px;" >'+
                'PANDORÆ - '+version+'<br>'+
                'Guillaume Levrier'+
                '</div>'
})

      const lastScroll = () =>{
       
       
        smoothScrollTo('final8');       
        document.body.style.animation = 'invert 2s';
        document.body.style.animationFillMode= 'forwards';
        document.body.style.overflow = 'hidden';
        document.getElementById('backarrow').style.display = 'none';
        
setTimeout(() => {
  
        let seconds = 10;
        const secMinus = () => {
          seconds = seconds-1;
          document.getElementById('restartCount').innerHTML = 'Restarting in:<br>'+ seconds;
        };

        setInterval(secMinus, 1000)
        
        setTimeout(() => {
          const { remote } = require('electron');
          remote.app.relaunch();
          remote.app.exit(0);
        }, 10000); 
            
    }, 7000);
  }

setTimeout(() => { //This is important because otherwise the padding is messed up and no event listener will do
  addPadding();
  display();  
  document.body.style.animation='fadein 1s';
  setTimeout(() => {
    document.body.style.opacity = 1;
  }, 950);
}, 200);


  </script>
</body>
