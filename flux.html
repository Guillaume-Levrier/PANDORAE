<!DOCTYPE html><html><meta charset="UTF-8">
<title>PANDORÃ†-FLUX</title>

<style>
input{
width: 80%;
border:none;
border-bottom:1px solid #141414;
height: 20px;
}

input:hover{
  background-color: #141414;
  color: white;
}

input:focus{
  outline:none;
}

label:hover{
outline: 1px solid black;
}

body{cursor: default;}
</style>


<div id="flux-div">
  <div class="flux-tabs">
  <button class="tabflux" onclick="fluxDisplay('flux-manager',this)">Flux Manager</button><br>
  <button class="tabflux" onclick="fluxDisplay('user-data',this)" id="defaultOpen">User Credentials</button><br>
  <button class="tabflux" onclick="fluxDisplay('scopus',this)">Scopus</button><br>
  <button class="tabflux" onclick="fluxDisplay('PubDeb',this)">Public debate</button><br>
  <button class="tabflux" onclick="fluxDisplay('altmetric',this)">Altmetric</button><br>
  <button class="tabflux" onclick="fluxDisplay('zotero',this)">Zotero</button><br>
  <button class="tabflux" onclick="fluxDisplay('local-loader',this)">Local</button><br>
</div>
<div id="flux-manager" class="fluxTabs">
<svg></svg>
</div>
<div id="user-data" style="display:none;" class="fluxTabs">
<form id="user-data-form" autocomplete="off">
  Name:<br> <input spellcheck="false" id="userNameInput" type="text" value="Enter your name"><br><br>
  Email:<br> <input spellcheck="false" id="userMailInput" type="text" value="Enter your email"><br><br>
  Zotero group id:<br> <input spellcheck="false" id="zoterouserinput" type="text" value="Enter your zotero group code"><br><br>
  Zotero API key:<br> <input spellcheck="false" id="zoterokeyinput" type="password" value="Enter your Zotero API key"><br><br>
  Scopus API key:<br> <input spellcheck="false" id="scopuskeyinput" type="password" value=""><br><br>
  Altmetric API key:<br> <input spellcheck="false" id="altmetrickeyinput" type="password" value=""><br><br>
  MapTiler Geocoding API key:<br> <input spellcheck="false" id="geocodinginput" type="password" value=""><br><br>


  <button type="submit" id="user-button" class="flux-button" onclick="updateUserData();return false">Update User Credentials</button><br><br><br><br>
</form>
</div>

<div id="scopus" style="display:none;" class="fluxTabs">
  <form id="scopus-form" autocomplete="off">
  Scopus Query:<br> <input spellcheck="false" id="scopuslocalqueryinput" type="text" value="Enter your Scopus Query"><br><br>
    <button type="submit" class="flux-button" id="scopus-basic-query" onclick="scopusBasicRetriever();return false">Retrieve basic info</button>&nbsp;&nbsp;<button style="display:none;" type="submit" class="flux-button" id="scopus-query" onclick="powerValve('scopusRetriever',this);return false">Submit Scopus Query</button><br><br>
    <div id="scopus-basic-previewer" style="position:relative;"></div>



    <div id="scopus-dataset-preview" style="position:relative;">Click on a dataset to display its features. </div>
    <div id="scopus-dataset-buttons" style="display:none;">
    <button type="submit" class="flux-button"  id="geolocate-button" onclick="powerValve('scopusGeolocate',this);return false">Geolocate Affiliations</button>
    <button type="submit" class="flux-button" id="convert-button" onclick="powerValve('scopusConverter',this);return false">Convert to CSL</button></div>
    <br><br>
      <button type="submit" class="flux-button" id="scopus-display" onclick="datasetDisplay('/datasets/scopus/scopusDatasets','scopus-dataset-list','scopus-dataset');return false">Update Scopus Dataset list</button>
</form>
<div id="scopus-dataset-list"  style="position:relative;">No dataset loaded yet.</div>
</div>

<div id="PubDeb" style="display:none;" class="fluxTabs">
<form id="pubdeb-import-form" autocomplete="off">

<br><br>
<p>Select CapCo dataset <br><input id="load-local-pubdeb" type="file" accept="all"/></p>
<p>Select Matching dataset<br> <input id="load-local-links" type="file" accept="all"/></p>
<button type="submit" class="flux-button" id="" onclick='powerValve("capcoRebuilder",this);return false'>Rebuild CapCo Dataset</button>
</form>
</div>


<div id="altmetric" style="display:none;" class="fluxTabs">
<form id="altmetric-import-form" autocomplete="off">
  <button type="submit" class="flux-button" id="scopus-display" onclick="datasetDisplay('/datasets/altmetric/requests','almetric-request-dataset-list','almetric-request-dataset');return false">Update datasets available for altmetric request list </button>
<br>

<div id="almetric-request-dataset-preview"></div>
<div id="almetric-request-dataset-buttons"style="display:none;">
<button type="submit" class="flux-button" onclick='powerValve("altmetricRetriever",this);return false'>Retrieve Almetric Data</button>
</div>

<div id="almetric-request-dataset-list"  style="position:relative;">No dataset loaded yet.</div>

</form>
</div>

<div id="zotero" style="display:none;" class="fluxTabs">
<form id="zotero-export-form" autocomplete="off">
<div id="selectedCollection">
</div>

<br><br>
<button type="submit" class="flux-button" id="cslcolret" onclick="datasetDisplay('/datasets/zotero/csl-json','userCsljsonCollections','csl-json-dataset');return false">Display/update available csljson files</button><br>
<div id="csl-json-dataset-preview"></div>
<div id="csl-json-dataset-buttons"style="display:none;">
  <input spellcheck="false" class="sendToZotero" id="zoteroCollecName"  type="text" value="Enter collection name">

  <button type="submit" class="flux-button sendToZotero" id="zoteroCollecBuild" onclick="powerValve('zoteroCollectionBuilder',this);return false">Create a new Zotero Collection</button>
</div>
<div id="userCsljsonCollections"></div>



<button type="submit" class="flux-button" id="zotcolret" onclick="zoteroCollectionRetriever();return false">Display/update user collections</button><br>
<input spellcheck="false" id="zoteroImportName" style="display:none;" type="text" value="Enter import name">
<select id="zotColSelector" style="display:none;" required></select>
<button type="submit" class="flux-button" style="display:none;" id="zotitret" onclick="powerValve('zoteroItemsRetriever',this);return false">Import selected collections</button><br>
</form>
<div id="userZoteroCollections"></div>

</div>

<div id="local-loader" style="display:none;" class="fluxTabs">

<button type="submit" class="flux-button" id="load-local" onclick="datasetLoader(this);return false">Upload local  datasets</button><select id="localSelector" required></select>
<input id="dataset-upload" type="file" onclick="datasetsSubdirList('localSelector')" accept=".json,.csv" multiple/><br><br>
</div>

<div style="padding:5px; position:absolute;top:0;right:0;z-index:20;">
<i class="material-icons dialog-buttons" onclick="refreshWindow();">refresh</i>
<i class="material-icons dialog-buttons" onclick="closeWindow();">close</i>
</div>
</div>


<link rel="stylesheet" type="text/css" href="css/pandorae.css">
<link rel="icon" type="image/png" href="img/AE-favicon.png"/>
<script src="js/window-management.js"></script>
<script src="js/flux/flux.js"></script>
<script src="js/flux/userdata.js"></script>
